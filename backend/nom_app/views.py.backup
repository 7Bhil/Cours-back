# backend/nom_app/views.py - AJOUTE CES VUES SIMPLES AU DÉBUT
from rest_framework.decorators import api_view
from rest_framework.response import Response
from rest_framework.permissions import AllowAny
from .models import ProgrammingLanguage
from .serializers import ProgrammingLanguageSerializer

@api_view(['GET'])
@permission_classes([AllowAny])
def test_api(request):
    """Endpoint de test"""
    return Response({
        'status': 'API Django fonctionnelle',
        'message': 'Bienvenue sur l\'API Bhil Learning',
        'endpoints': {
            '/api/languages/': 'Liste des langages',
            '/api/progress/': 'Progression utilisateur'
        }
    })

@api_view(['GET'])
@permission_classes([AllowAny])
def get_languages(request):
    """Liste tous les langages"""
    languages = ProgrammingLanguage.objects.all()
    serializer = ProgrammingLanguageSerializer(languages, many=True)
    return Response(serializer.data)

# GARDE TES AUTRES VUES EXISTANTES APRÈS CES FONCTIONS
# ... ton code existant ...